# Django Settings
# SECURITY WARNING: Keep the secret key used in production secret!
# Generate a new secret key: python manage.py shell -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-secret-key-here
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# PRODUCTION CONFIGURATION - REQUIRED FOR LOGIN TO WORK
# CSRF_TRUSTED_ORIGINS - required for Django 4.0+ (comma-separated list)
# MUST include your production domain (both HTTP and HTTPS if applicable)
# This is CRITICAL for admin login and API authentication to work
# Example for production: CSRF_TRUSTED_ORIGINS=https://pagerodeo.com,http://pagerodeo.com,https://www.pagerodeo.com
# Note: If FRONTEND_URL is set, it will be auto-added to CSRF_TRUSTED_ORIGINS
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Frontend URL - used for email verification links (REQUIRED in production)
# This URL is also auto-added to CSRF_TRUSTED_ORIGINS and CORS_ALLOWED_ORIGINS
# Example for production: FRONTEND_URL=https://pagerodeo.com
FRONTEND_URL=http://localhost:3000

# CORS Configuration (for API requests from frontend)
# Set CORS_ALLOW_ALL_ORIGINS=False in production and configure CORS_ALLOWED_ORIGINS
# Example: CORS_ALLOW_ALL_ORIGINS=False
# Example: CORS_ALLOWED_ORIGINS=https://pagerodeo.com,http://pagerodeo.com
# Note: If FRONTEND_URL is set, it will be auto-added to CORS_ALLOWED_ORIGINS

# Database Configuration
DB_NAME=pagerodeo
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432

# Email Configuration
# Choose one: SMTP (Gmail) or Amazon SES
# For SMTP (Gmail):
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password-here
DEFAULT_FROM_EMAIL=your-email@gmail.com
SERVER_EMAIL=your-email@gmail.com

# For Amazon SES (uncomment and configure):
# EMAIL_BACKEND=anymail.backends.amazon_ses.EmailBackend
# AWS_ACCESS_KEY_ID=your-aws-access-key-id
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# AWS_SES_REGION_NAME=us-east-1
# AWS_SES_REGION_ENDPOINT=  # Optional: custom endpoint URL
# DEFAULT_FROM_EMAIL=noreply@yourdomain.com
# SERVER_EMAIL=noreply@yourdomain.com

# Security Settings
# Note: Security settings automatically adjust based on DEBUG mode
# - When DEBUG=True (development): Security settings are automatically disabled
# - When DEBUG=False (production): Security settings are automatically enabled
# You can override these defaults by uncommenting and setting the values below

# HTTPS Enforcement (automatically False when DEBUG=True, True when DEBUG=False)
# SECURE_SSL_REDIRECT=False  # Uncomment to override default

# HSTS (HTTP Strict Transport Security)
# SECURE_HSTS_SECONDS=31536000  # Automatically 0 when DEBUG=True
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True  # Automatically False when DEBUG=True
# SECURE_HSTS_PRELOAD=True  # Automatically False when DEBUG=True

# Secure Cookies (automatically False when DEBUG=True, True when DEBUG=False)
# IMPORTANT FOR PRODUCTION: If behind a reverse proxy/load balancer that doesn't properly set
# X-Forwarded-Proto header, you may need to set these to False temporarily
# Or configure your proxy to set X-Forwarded-Proto header correctly
# SESSION_COOKIE_SECURE=False  # Uncomment to override default (set to False if behind proxy without proper headers)
SESSION_COOKIE_HTTPONLY=True  # Always enabled (works in both HTTP and HTTPS)
SESSION_COOKIE_SAMESITE=Lax
# CSRF_COOKIE_SECURE=False  # Uncomment to override default (set to False if behind proxy without proper headers)
CSRF_COOKIE_HTTPONLY=True  # Always enabled (works in both HTTP and HTTPS)
CSRF_COOKIE_SAMESITE=Lax

# Rate Limiting
RATE_LIMIT_ENABLE=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# PostHog Configuration
POSTHOG_API_KEY=your-posthog-api-key-here
POSTHOG_HOST=https://app.posthog.com

# Proxy SSL Header (if behind reverse proxy like nginx)
# CRITICAL FOR PRODUCTION: If behind a reverse proxy/load balancer, set this so Django knows requests are HTTPS
# Format: SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
# Example: SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
# This allows secure cookies to work properly when behind a proxy

